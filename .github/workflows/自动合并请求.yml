name: 自动合并请求

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, reopened, synchronize]
  pull_request_target:
    types: [opened, reopened, synchronize]

  workflow_dispatch:

permissions: write-all

jobs:
  update_release_draft:
    name : 自动合并请求
    runs-on: ubuntu-latest
    steps:
      auto-merge:
        - name: Merge
          uses: KeisukeYamashita/auto-pull-request-merge@v1
          with:
            intervalSeconds: 10
            timeoutSeconds: 30